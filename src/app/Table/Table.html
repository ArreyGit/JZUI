<!DOCTYPE html>
<html lang="en">
  <head>
    <title>index</title>
    @@include('../inc/head.inc')
  </head>
  <body>
 	@@include('../inc/nav.inc')
		<h6>Bootstrap Demo</h6>
		<div class="row">
		  <div class="col-sm-12">  
		    <div class="panel panel-default">
		        <div class="panel-heading"><b>Table</b>
		        <button type="button" class="btn btn-primary btn-xs" onclick='table1.reload()'>重新载入(返回第一页)</button>
		        <button type="button" class="btn btn-primary btn-xs" onclick='table1.refresh()'>刷新 </button>
		        
		        </div>
		        <div class="panel-body">
		        	<div class="table-responsive">
		        	 <table width="100%" class="table table-striped table-bordered table-hover" id="vue-table1">
	                     <thead>
	                         <tr>
	                          <th>序号</th>
	                          <th>操作</th>
	                          <th>标题</th>
	                          <th>描述</th>
	                          <th>浏览</th>
	                          <th>评论</th>
	                          <th>分享</th>
	                          <th>状态</th>
	                          <th>提交时间</th>
	                         </tr>
	                     </thead>
	                     <tbody>
	                    <!-- 节点遍历 -->
											<tr v-for="item in UserList">
												<td>{{item.vueIndex}}</td>
												<td>
													<button type="button" class="btn btn-primary btn-xs" v-on:click="detail(item,$event)">修改</button>
													<button type="button" class="btn btn-warning btn-xs" v-on:click="del(item,$event)">删除</button>
												</td>
												<td>{{ item.name }}</td>
												<td>{{ item.title }}</td>
												<td>{{ item.clicks }}</td>
												<td>{{ item.replys }}</td>
												<td>{{ item.shares }}</td>
												<td>{{ false | switch_1}}</td>
												<td>{{ item.recorddate }}</td>
											</tr>
										</tbody>
	                 </table>
	                 </div>
                <ul id="vue-pager1" class="pagination pull-right">
                </ul>
				</div>		  
			  </div>
		  </div>
		</div>
	
	@@include('../inc/foot.inc')
<script>
	var table1 = JZ.Table({
	data:'UserList',
	url:JZ.AjaxUrl.DemoPageData, 
	//url:'/mock/DemoPageData.json', 
	el_data:'#vue-table1',
	el_pager:'#vue-pager1',
	//limit:10,//每页条数
	//page:true//是否分页
	filter:function(){//添加 Vue Filter
		Vue.filter('switch_1', function () {
			if(this.item.isvalid==0)
				return '禁用';
			return '启用';
		});
	},
	methods:{
	  //TODO:添加可调用的事件
	  del:function(item,event){//item:数据对象
		    var _this = $(event.target);//点击的dom对象 
		    alert('我要删除；当前行主键:'+item.id);
	  },
	  detail:function(item,event){ 
		    alert('我要查看详情');
	  }
	}
});
	
	</script>
  </body>
</html>
